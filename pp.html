<!DOCTYPE html>
<html>
<head>
    <title>付款</title>
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" type="text/css" href="css/m-base.css"/>
    <link rel="stylesheet" type="text/css" href="css/m-layout.css"/>
    <script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="js/m-reactive.js"></script>
    <link rel="stylesheet" type="text/css" href="css/shop_common.css"/>
<body>
<div class="kfz-layout">
    <div class="area" ><img  id="fff" src="http://shiwanzhou.github.io/test/images/m/shop_area1.jpg"></div>
    <div>
        从底部 从底部 从底部 从底部 从底部 从底部 从底部 从底部 从底部 从底部 从底部 从底部 从底部 从底部 从底部
    </div>
    <div class="area" ><img  id="test_area_three" src="http://shiwanzhou.github.io/test/images/m/shop_area1.jpg"></div>
    <div>
        从底部 从底部 从底部 从底部 从底部 从底部 从底部 从底部 从底部 从底部 从底部 从底部 从底部 从底部 从底部
    </div>
</div>
<script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
<script src="js/m-reactive.js"></script>
<script type="text/javascript">
    (function(){
        var handleTouchyDrag = function (event, phase, $target, data) {

            var movePoint = data.movePoint,
                    startPoint = data.startPoint,
                    velocity = data.velocity;

            switch (phase) {
                case 'start':
                    $target.css('border','2px solid yellow');
                    break;
                case 'move':
                    $target.css({'zIndex':'99', 'webkitTransform': 'translate(' + (movePoint.x - startPoint.x) + 'px, ' + (movePoint.y - startPoint.y) + 'px)'});
                    if ((302 < movePoint.x && movePoint.x < 402) && (402 < movePoint.y && movePoint.y < 502)) {
                        $('#test_target').css({'border':'4px solid red', 'webkitTransform':'translate(-2px, -2px)'});
                    }
                    break;
                case 'end':
                    if ((302 < movePoint.x && movePoint.x < 402) && (402 < movePoint.y && movePoint.y < 502)) {
                        $target.css({'top':'402px', 'left':'302px', 'webkitTransform':'translate(0,0)', 'border':'0'});
                        $('#test_target').css({'border':'2px solid blue', 'webkitTransform':'translate(0,0)'});
                        $target.unbind('touchy-drag', handleTouchyDrag);
                    }
                    else {
                        $target.css({'zIndex':'5', 'webkitTransform':'translate(0px, 0px)', 'border':'0'});
                    }

                    break;
            }
        }
        $('#test_area').bind('touchy-drag', handleTouchyDrag);

        var handleTouchySwipe = function (e, $target, data) {
            $target.html(data.direction);
        }
        $('#test_area_three').bind('touchy-swipe', handleTouchySwipe);

        var handleTouchyPinch = function (e, $target, data) {
            var scale = data.scale;
            $target.css({'webkitTransform':'scale(' + scale + ',' + scale + ')'});
        }
        $('#test_area_three').bind('touchy-pinch', handleTouchyPinch);

        var handleTouchyLongpress = function (e, phase, $target) {
            $target.html('long');
        }
        $('#test_area_three').bind('touchy-longpress', handleTouchyLongpress);

        var degs = 0;
        var handleTouchyRotate = function (e, phase, $target, data) {
            if (phase === 'move') {
                $target.html(degs);
                degs += data.degreeDelta;
                $target.css('webkitTransform','rotate('+ degs +'deg)');
            }
        }

        $('#test_area_two').bind('touchy-rotate', handleTouchyRotate);



    })();

</script>

</body>
</html>
